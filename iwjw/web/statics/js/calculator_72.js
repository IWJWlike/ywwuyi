webpackJsonp([13],{0:function(e,t,a){(function(e,t,n,l){'use strict';function r(e){return e&&e.__esModule?e:{"default":e}}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c=a(678),i=r(c),o=a(681),u=r(o),d=a(684),p=r(d),f=a(687),h=r(f),v=a(690),g=r(v),j=a(691),E=r(j),y=a(695),w=r(y),N=a(694),k=r(N);a(698);var x=new k["default"],P=e.createClass({displayName:'Calculator',getInitialState:function(){var e=x.baseInfo;return e},onChange:function(e){var t=this;return function(a){var n={};switch(e){case'fyzj':n={fyzj:a,gjjdk:x.baseInfo.gjjdk};break;case'sf':n={sfPercent:a.percent,sfPrice:a.price,gjjdk:x.baseInfo.gjjdk};break;case'sdll':n={sdRate:a.rate,sdPercent:a.percent};break;default:n[e]=a}x.setBaseInfo(n),t.setState(x.baseInfo)}},render:function(){var a=this.state,l={ruleType:'ban',rules:[{required:!0,message:'请输入房源总价'},{validator:function(e,t){return e=e.match(/\d{0,6}/)||'',e&&(e=parseInt(e.join(''),10)),{value:e||''}}}]},r={ruleType:'ban',rules:[{validator:function(e,t){return e=e.match(/\d{0,6}/)||'',e&&(e=parseInt(e.join(''),10)),~~x.baseInfo.fyzj-x.baseInfo.sf<e?e=x.baseInfo.fyzj-x.baseInfo.sf:null,{value:e||''}}}]};return e.createElement('div',null,e.createElement('div',{className:'title'},e.createElement('i',{className:'iconfont if-calculator'}),'  算房贷'),e.createElement('div',{className:'content clearfix'},e.createElement('div',{className:'f-l'},e.createElement('div',{className:'row'},e.createElement('span',{className:'row-left'},'贷款方式'),e.createElement('span',{className:'row-right'},e.createElement(u["default"],{ref:'dkfs',defaultValue:a.dkfs,onChange:this.onChange('dkfs')},e.createElement('option',{value:'1'},'等额本息'),e.createElement('option',{value:'2'},'等额本金')),e.createElement(h["default"],{style:{marginLeft:'18px'}},e.createElement('b',null,'等额本息'),':等额本息还款,也称定期付息,即借款人每月按相等的金额偿还贷款本息,其中每月贷款利息按月初剩余贷款本金计算并逐月结清。',e.createElement('br',null),e.createElement('b',null,'等额本金'),':又称利随本清、等本不等息还款法。贷款人将本金分摊到每个月内,同时付清上一交易日至本次还款日之间的利息。'))),e.createElement('div',{className:'row'},e.createElement('span',{className:'row-left'},'房源总价'),e.createElement('span',{className:'row-right'},e.createElement(p["default"],s({ref:'fyzj'},l,{defaultValue:a.fyzj,maxLength:6,unit:'万',onChange:this.onChange('fyzj')})))),e.createElement('div',{className:'row'},e.createElement('span',{className:'row-left'},'首付'),e.createElement('span',{className:'row-right'},e.createElement(E["default"],{ref:'sf',percent:a.sfPercent,price:a.sfPrice,totalPrice:a.fyzj,onChange:this.onChange('sf')}))),e.createElement('div',{className:'row-divide'}),e.createElement('div',{className:'row'},e.createElement('span',{className:'row-left'},'公积金贷款'),e.createElement('span',{className:'row-right'},e.createElement(p["default"],s({ref:'gjjdk'},r,{defaultValue:a.gjjdk,maxLength:6,unit:'万',onChange:this.onChange('gjjdk')})))),e.createElement('div',{className:'row'},e.createElement('span',{className:'row-left'},'公积金利率'),e.createElement('span',{className:'row-right'},e.createElement(i["default"],{ref:'gjjll',defaultValue:a.gjjll,showField:'showValue',onChange:this.onChange('gjjll')},e.createElement('option',{value:1,showValue:1*a.gjjjzll+'%'},'基准利率'),e.createElement('option',{value:1.1,showValue:k["default"].toFixed(1.1*a.gjjjzll,2)+'%'},'1.1倍基准利率')),e.createElement(h["default"],null,'根据2015年10月24日最新银行公积金贷款利率： 5年以下：2.75%',e.createElement('span',{className:'gray-light'},'（包括5年）'),e.createElement('br',null),'5年以上：3.25%'))),e.createElement('div',{className:'row'},e.createElement('span',{className:'row-left'},'公积金期限'),e.createElement('span',{className:'row-right'},e.createElement(i["default"],{ref:'gjjqx',defaultValue:a.gjjqx,onChange:this.onChange('gjjqx')},t.map(t.range(1,31),function(t){return e.createElement('option',{key:'select'+t,value:t},t,'年(',12*t,'期)')})))),e.createElement('div',{className:'row-divide'}),e.createElement('div',{className:'row'},e.createElement('span',{className:'row-left'},'商业贷款'),e.createElement('span',{className:'row-right'},e.createElement(p["default"],s({ref:'sydk',defaultValue:a.sydk},r,{type:'text',maxLength:6,unit:'万',onChange:this.onChange('sydk')})))),e.createElement('div',{className:'row'},e.createElement('span',{className:'row-left'},'商贷利率'),e.createElement('span',{className:'row-right'},e.createElement(w["default"],{ref:'sdll',baseRate:a.sdjzll,rate:a.sdRate,percent:a.sdPercent,onChange:this.onChange('sdll')})),e.createElement(h["default"],null,'根据2015年10月24日最新银行商业贷款利率： 0~1年：4.35%',e.createElement('span',{className:'gray-light'},'（包括1年）'),e.createElement('br',null),'1~5年：4.75%',e.createElement('span',{className:'gray-light'},'（包括5年）'),e.createElement('br',null),'5年以上：4.90%')),e.createElement('div',{className:'row'},e.createElement('span',{className:'row-left'},'商贷期限'),e.createElement('span',{className:'row-right'},e.createElement(i["default"],{ref:'sdqx',defaultValue:a.sdqx,onChange:this.onChange('sdqx')},t.map(t.range(1,31),function(t){return e.createElement('option',{key:'select'+t,value:t},t,'年(',12*t,'期)')}))))),e.createElement('div',{className:'divide arrow-right'}),e.createElement('div',{className:'result'},e.createElement('h2',{className:'result-title'},'计算结果'),e.createElement('ul',{className:'result-wrap'},e.createElement('li',{className:'result-item clearfix'},e.createElement('span',null,'首付'),e.createElement('span',{className:'f-r'},e.createElement('span',{className:'orange'},e.createElement(g["default"],{value:a.sf})),' 万')),'1'===a.dkfs?e.createElement('li',{className:'result-item clearfix'},e.createElement('span',null,'每月月供'),e.createElement('span',{className:'f-r'},e.createElement('span',{className:'orange'},e.createElement(g["default"],{value:a.yg,wrap:function(e){return n.formatPrice(k["default"].toFixed(e,0))}})),' 元')):e.createElement('li',{className:'result-item clearfix'},e.createElement('span',null,'首月月供'),e.createElement('span',{className:'f-r'},e.createElement('span',{className:'orange'},e.createElement(g["default"],{value:a.yg,wrap:function(e){return n.formatPrice(k["default"].toFixed(e,0))}})),' 元')),'2'===a.dkfs?e.createElement('li',{className:'result-item clearfix'},e.createElement('span',null,'每月递减'),e.createElement('span',{className:'f-r'},e.createElement('span',{className:'orange'},e.createElement(g["default"],{value:a.mydj})),' 元')):null,e.createElement('li',{className:'result-item clearfix'},e.createElement('span',null,'贷款总额'),e.createElement('span',{className:'f-r'},e.createElement('span',{className:'result-item-num'},e.createElement(g["default"],{value:a.fyzj-a.sf})),'万')),e.createElement('li',{className:'result-item clearfix'},e.createElement('span',null,'支付利息'),e.createElement('span',{className:'f-r'},e.createElement('span',{className:'result-item-num'},e.createElement(g["default"],{value:a.zflx})),'万')),e.createElement('li',{className:'result-item clearfix'},e.createElement('span',null,'还款总额'),e.createElement('span',{className:'f-r'},e.createElement('span',{className:'result-item-num'},e.createElement(g["default"],{value:a.hkze})),'万')),e.createElement('li',{className:'result-item clearfix'},e.createElement('span',null,'贷款月数'),e.createElement('span',{className:'f-r'},e.createElement('span',{className:'result-item-num'},e.createElement(g["default"],{value:12*a.dkqx})),e.createElement('span',null,'月')))))))}});l.render(e.createElement(P,null),document.getElementById('mod-calculator'))}).call(t,a(11),a(227),a(225),a(163))},678:function(e,t,a){(function(n,l,$){'use strict';Object.defineProperty(t,"__esModule",{value:!0}),a(679);var r=n.createClass({displayName:'Select',propTypes:{onChange:n.PropTypes.func},getInitialState:function(){var e=this.props;return this.initState(e)},componentWillReceiveProps:function(e){this.setState(this.initState(e))},initState:function(e){var t=l.find(e.children,function(t){return t.props.value===e.defaultValue});return{showDropdown:!1,value:e.defaultValue,showValue:t.props.showValue,text:t?t.props.children:''}},handleItemClick:function(e){var t=this;return function(a){t.setState({value:e.props.value,text:e.props.children,showValue:e.props.showValue,showDropdown:!1}),t.props.onChange&&t.props.onChange(e.props.value),a.stopPropagation()}},handleClick:function(e){var t=this;t.setState({showDropdown:!this.state.showDropdown}),$(document.body).one('click',function(){t.setState({showDropdown:!1})}),e.stopPropagation()},toggleDropdown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;return function(a){t.setState({showDropdown:e})}},render:function(){var e=this,t={},a=this.props.value||this.state.value;n.Children.forEach(this.props.children,function(l,r){var s=n.createElement('li',{key:"select"+r,className:a===l.props.value?"select-item selected":"select-item",onClick:e.handleItemClick(l)},l.props.children);t['select'+r]=s});var r=this.state.showDropdown;return n.createElement('div',{className:'mod-select',onMouseEnter:this.toggleDropdown(!0),onMouseLeave:this.toggleDropdown(!1)},n.createElement('div',{className:'select-input',onClick:this.handleClick},n.createElement('span',{className:'select-value'},this.state[this.props.showField||'text']),n.createElement('i',{className:'iconfont if-triangle-down'})),n.createElement('ul',{className:'select-dropdown',style:r?{display:'block'}:{display:'none'}},l.toArray(t)))}});t["default"]=r,e.exports=t['default']}).call(t,a(11),a(227),a(1))},679:230,681:function(e,t,a){(function(n,l){'use strict';Object.defineProperty(t,"__esModule",{value:!0}),a(682);var r=n.createClass({displayName:'Radio',propTypes:{onChange:n.PropTypes.func},getInitialState:function(){return{value:this.props.defaultValue}},handleChange:function(e){var t=this;return function(){t.props.onChange&&t.props.onChange(e),t.setState({value:e})}},render:function(){var e=this,t={},a=this.props.value||this.state.value;return n.Children.forEach(this.props.children,function(l,r){var s=n.createElement('label',{key:"radio"+r,className:'radio-item',onClick:e.handleChange(l.props.value)},n.createElement('i',{className:l.props.value===a?'iconfont if-checkbox-circle':'iconfont if-uncheck'}),l.props.children);t['radio'+r]=s}),n.createElement('span',{className:'mod-radio'},l.toArray(t))}});t["default"]=r,e.exports=t['default']}).call(t,a(11),a(227))},682:230,684:function(e,t,a){(function(n,l){'use strict';Object.defineProperty(t,"__esModule",{value:!0}),a(685);var r=n.createClass({displayName:'Input',propTypes:{rules:n.PropTypes.array,onChange:n.PropTypes.func},getInitialState:function(){return{value:this.props.defaultValue,error:''}},componentWillReceiveProps:function(e){this.setState({value:e.defaultValue})},onBlur:function(e){var t=e.target.value;this.props.onBlur&&this.onHandle(t,this.props.onBlur)},onChange:function(e){var t=e.target.value;this.props.onChange&&this.onHandle(t,this.props.onChange)},onHandle:function(e,t){var a=this,n=this.props.rules,r=e;l.each(n,function(t){if(r=a.validate(e,t),r===!1)return!1}),r?this.setState({value:r,error:''}):''===e||'ban'!==this.props.ruleType?this.setState({value:e}):this.forceUpdate(),t&&t(r)},validate:function(e,t,a,n){var l=e;if(t.validator){var r=t.validator(e),s=r.error;s?('ban'!==this.props.ruleType&&s&&this.setState({error:s}),l=!s):l=r.value||''==r.value||0==r.value?r.value:e}else t.required&&!e&&('ban'!==this.props.ruleType&&this.setState({error:t.message}),l=!1);return l},render:function(){var e=this.props;return n.createElement('div',{className:this.state.error?'mod-input error':'mod-input'},n.createElement('label',{className:'input-wrap'},n.createElement('input',{className:'input-value',type:e.type||'text',name:e.name,value:this.state.value,readOnly:e.readOnly,maxLength:e.maxLength,onChange:this.onChange,onBlur:this.onBlur}),e.unit?n.createElement('span',{className:'input-unit'},e.unit):null),this.state.error?n.createElement('div',{className:'input-error'},n.createElement('i',{className:'iconfont if-alert'}),' ',this.state.error):null)}});t["default"]=r,e.exports=t['default']}).call(t,a(11),a(227))},685:230,687:function(e,t,a){(function(n){'use strict';Object.defineProperty(t,"__esModule",{value:!0}),a(688);var l=n.createClass({displayName:'Tip',render:function(){return n.createElement('div',{className:'tip',style:this.props.style},n.createElement('i',{className:'iconfont if-help'}),n.createElement('div',{className:'tip-info arrow-top'},this.props.children))}});t["default"]=l,e.exports=t['default']}).call(t,a(11))},688:230,690:function(e,t,a){(function(n){'use strict';Object.defineProperty(t,"__esModule",{value:!0}),a(688);var l=n.createClass({displayName:'Figure',getInitialState:function(){return{value:this.props.value}},componentDidUpdate:function(e){e.value!==this.props.value&&(clearInterval(this.timer),this.move(this.state.value,this.props.value))},move:function(e,t){e=Number(e),t=Number(t);var a=this,n=500,l=0,r=30;a.timer=setInterval(function(){if(l+=r,l<n){var s=(t-e)/n*l+e;a.setState({value:s})}else a.setState({value:t}),clearInterval(a.timer)},r)},render:function(){var e=this.state.value,t=this.props.wrap,a=void 0===t?function(e){return parseInt(e,10)}:t;return n.createElement('span',{ref:'figure',className:'figure'},a?a(e):e)}});t["default"]=l,e.exports=t['default']}).call(t,a(11))},691:function(e,t,a){(function(n,l,r,$){'use strict';function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),a(692);var c=a(694),i=s(c),o=n.createClass({displayName:'Sf',propTypes:{onChange:n.PropTypes.func},componentWillReceiveProps:function(e){this.setState(l.extend({showPrice:e.price},e))},getInitialState:function(){var e=this.props;return{showDropdown:!1,percent:e.percent,price:e.price||this.getPrice(e.percent),showPrice:e.price,showPriceBtn:!1,error:''}},getPrice:function(e){return e?i["default"].toFixed(this.props.totalPrice*e/10,0):null},handleItemClick:function(e){var t=this,a=this;return function(n){t.setState({percent:e,price:a.getPrice(e),error:'',showDropdown:!1}),t.props.onChange&&t.props.onChange({percent:e,price:a.getPrice(e)})}},handleClick:function(e){},toggleDropdown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;return function(a){t.setState({showDropdown:e})}},handlePriceClick:function(e){var t=r.findDOMNode(this.refs.priceBtn).value,a={price:t,showPrice:t,percent:null,showDropdown:!1,error:''};this.setState(a),this.props.onChange&&this.props.onChange({percent:null,price:t})},handlePriceChange:function(e){var t=e.target.value.match(/\d+/g)||'';t&&(t=parseInt(t.join(''),10),t=~~this.props.totalPrice<t?~~this.props.totalPrice:t),this.setState({showPriceBtn:!!t||0===t,price:t})},handlePriceFocus:function(e){var t=e.target.value;this.setState({showPriceBtn:!!t||0===t})},handlePriceBlur:function(e){var t=this;$(document.body).on('click',function(e){$(e.target).closest('.select-price').length||t.setState({showPriceBtn:!1})})},render:function(){var e=this,t=[],a=this.state.percent;return t=l.map([1,2,2.5,3,3.5,4,5,6,7,8,9],function(t){return n.createElement('li',{key:'sf'+t,className:a===t?"select-item selected":"select-item",onClick:e.handleItemClick(t)},t,'成')}),n.createElement('div',{className:this.state.error?'mod-sf mod-select error':'mod-sf mod-select',onMouseEnter:this.toggleDropdown(!0),onMouseLeave:this.toggleDropdown(!1)},n.createElement('div',{className:'select-input',onClick:this.handleClick},n.createElement('span',{className:'select-value'},a?n.createElement('span',null,a,'成',n.createElement('span',{className:'gray-light'},'（',this.state.price,'万）')):n.createElement('span',null,this.state.showPrice,'万')),n.createElement('i',{className:'iconfont if-triangle-down'})),this.state.error?n.createElement('div',{className:'input-error'},n.createElement('i',{className:'iconfont if-alert'}),' ',this.state.error):'',n.createElement('div',{className:'select-dropdown',style:this.state.showDropdown?{display:'block'}:{display:'none'}},n.createElement('div',{ref:'selectPrice',className:'select-price'},n.createElement('label',{className:'price-input-wrap'},n.createElement('input',{className:'price-input',ref:'priceBtn',type:'text',maxLength:6,value:this.state.price,onChange:this.handlePriceChange,onBlur:this.handlePriceBlur,onFocus:this.handlePriceFocus}),' 万'),this.state.showPriceBtn?n.createElement('span',{className:'price-btn',onClick:this.handlePriceClick},'确定'):''),n.createElement('ul',{className:'select-items'},t)))}});t["default"]=o,e.exports=t['default']}).call(t,a(11),a(227),a(163),a(1))},692:230,694:function(e,t,a){(function(a,n){'use strict';function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=pageConfig.provinceId,i=function(){function e(t,s){l(this,e);var i={2:{sfPercent:3.5,gjjdk:100},12438:{sfPercent:2,gjjdk:120},40000:{gjjdk:100},56000:{gjjdk:90},71049:{gjjdk:100},71099:{gjjdk:80},86724:{gjjdk:60},86725:{gjjdk:60},98289:{gjjdk:60},98290:{gjjdk:80}};this.baseInfo={};var o=a.extend({dkfs:'1',fyzj:t||n.paramOfUrl().price||0,sf:0,sfPrice:null,sfPercent:3,gjjdk:60,gjjjzll:3.25,gjjll:1,gjjqx:20,sydk:void 0,sdjzll:4.9,sdRate:1,sdPercent:null,sdqx:20,dkqx:0,yg:0},i[c]),u=n.getLocalStore('calculator')||{};u=u[c]||{},s?this.setBaseInfo(r({},o,s),!0):this.setBaseInfo(r({},u,o))}return s(e,[{key:'setStore',value:function(e){var t=n.getLocalStore('calculator')||{},l=t[c]||{};a.extend(l,e),t[c]=l,n.setLocalStore('calculator',t)}},{key:'setBaseInfo',value:function(t,n){var l=this.baseInfo;a.extend(l,t),l.sfPercent?l.sfPrice=parseInt(l.sfPercent/10*l.fyzj,10):~~l.sfPrice>=~~l.fyzj&&(l.sfPrice=~~l.fyzj),l.sf=l.sfPrice,t.gjjqx&&this.setGjjjzll(t.gjjqx),t.sdqx&&this.setSdjzll(t.sdqx),l.sdll=l.sdRate?l.sdRate*l.sdjzll:l.sdPercent,l.sdPercent=e.toFixed(l.sdll,2),this.setGjjdk(t.gjjdk),this.setSydk(t.sydk),'1'==l.dkfs?this.setBx():this.setBj();var r={dkfs:l.dkfs,sfPercent:l.sfPercent,sfPrice:l.sfPrice,gjjdk:l.gjjdk,gjjjzll:l.gjjjzll,gjjll:l.gjjll,gjjqx:l.gjjqx,sdjzll:l.sdjzll,sdRate:l.sdRate,sdPercent:l.sdPercent,sdqx:l.sdqx};l.dkqx=l.gjjqx>=l.sdqx?l.gjjqx:l.sdqx,n||this.setStore(r)}},{key:'setGjjdk',value:function(e){if('undefined'!=typeof e){e=~~e;var t=this.baseInfo,a=~~t.fyzj-t.sf;e>a&&(e=a),t.gjjdk=e,t.sydk=a-e}}},{key:'setSydk',value:function(e){if('undefined'!=typeof e){e=~~e;var t=this.baseInfo,a=~~t.fyzj-t.sf;e>a&&(e=a),t.sydk=e,t.gjjdk=a-e}}},{key:'setGjjjzll',value:function(e){~~e<=5?this.baseInfo.gjjjzll=2.75:this.baseInfo.gjjjzll=3.25}},{key:'setSdjzll',value:function(e){e<=1?this.baseInfo.sdjzll=4.35:e<=5?this.baseInfo.sdjzll=4.75:this.baseInfo.sdjzll=4.9}},{key:'setBx',value:function(){var t=this.baseInfo,a=this.bxCal(1e4*t.gjjdk,t.gjjll*t.gjjjzll/100/12,12*t.gjjqx),n=a*t.gjjqx*12,l=this.bxCal(1e4*t.sydk,t.sdll/100/12,12*t.sdqx),r=l*t.sdqx*12;t.yg=t.bxyg=e.toFixed(a+l,0),t.hkze=e.toFixed((n+r)/1e4,0),t.zflx=e.toFixed(t.hkze-(t.fyzj-t.sf),0)}},{key:'bxCal',value:function(e,t,a){return e*t*Math.pow(1+t,a)/(Math.pow(1+t,a)-1)}},{key:'setBj',value:function(){var t=this.baseInfo,a=1e4*t.gjjdk,n=t.gjjll*t.gjjjzll/100/12,l=12*t.gjjqx,r=this.bjCal(a,n,l,a),s=this.bjCal(a,n,l,a-a/l),c=l*r+(l-1)*l/2*(s-r),i=1e4*t.sydk,o=t.sdll/100/12,u=12*t.sdqx,d=this.bjCal(i,o,u,i),p=this.bjCal(i,o,u,i-i/u),f=u*d+(u-1)*u/2*(p-d);t.yg=t.bjyg=e.toFixed(r+d,0),t.mydj=e.toFixed(r+d-s-p,0),t.hkze=e.toFixed((c+f)/1e4,0),t.zflx=e.toFixed(t.hkze-(t.fyzj-t.sf),0)}},{key:'bjCal',value:function(e,t,a,n){return e/a+n*t}},{key:'getInfo',value:function(e){return this.baseInfo[e]}}],[{key:'toFixed',value:function(e,t){var a=Math.pow(10,t);return parseInt(e*a,10)/a}},{key:'isInteger',value:function(e){return 0==e||/^[1-9][0-9]*$/.test(e)}},{key:'isFloat',value:function(e){return/^(-?\d+)(\.\d+)?$/.test(e)}}]),e}();t["default"]=i,e.exports=t['default']}).call(t,a(227),a(225))},695:function(e,t,a){(function(n,l,r,$){'use strict';function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),a(696);var c=a(694),i=s(c),o=n.createClass({displayName:'Sdll',propTypes:{onChange:n.PropTypes.func},getInitialState:function(){var e=this.props;return{baseRate:e.baseRate,showDropdown:!1,rate:e.rate||'',percent:e.percent||this.getPercent(e.rate,e.baseRate),showPercent:e.percent,showBtn:!!e.percent,error:''}},componentWillReceiveProps:function(e){this.setState(l.extend({showPercent:e.percent},e))},handleItemClick:function(e){var t=this,a=this;return function(n){t.setState({rate:e.value,percent:a.getPercent(e.value),showDropdown:!1,error:''}),t.props.onChange&&t.props.onChange({percent:a.getPercent(e.value),rate:e.value})}},getPercent:function(e,t){return e?i["default"].toFixed(e*t,2):null},handleClick:function(e){},toggleDropdown:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;return function(a){t.setState({showDropdown:e})}},handlePercentClick:function(e){var t=r.findDOMNode(this.refs.percentBtn).value;t=parseFloat(t);var a={percent:t,showPercent:t,rate:null,showDropdown:!1,error:''};this.setState(a),a.error||this.props.onChange&&this.props.onChange({percent:t,rate:null})},handlePercentChange:function(e){var t=e.target.value.match(/(?:(?:(?:[1-2]\d)|(?:[1-9]))\.?\d{0,2})|(?:0\.?\d?[1-9]?)/)||'';t&&(t=t.join(''),t.split('.')[0]>20||20==t.split('.')[0]&&t.split('.')[1]?t=20:null),this.setState({showPercentBtn:!!t||0===t,percent:t,rate:null})},handlePercentFocus:function(e){var t=e.target.value;this.setState({showPercentBtn:!!t||0===t})},handlePercentBlur:function(e){var t=this;$(document.body).on('click',function(e){$(e.target).closest('.select-percent').length||t.setState({showPercentBtn:!1})})},render:function(){var e=this,t=[],a=this.state,r=a.baseRate,s=a.rate,c=[{value:.7,text:'7折'},{value:.8,text:'8折'},{value:.83,text:'8.3折'},{value:.85,text:'8.5折'},{value:.88,text:'8.8折'},{value:.9,text:'9折'},{value:.95,text:'9.5折'},{value:1,text:'基准利率('+r.toFixed(2)+'%)'},{value:1.05,text:'1.05倍'},{value:1.1,text:'1.1倍'},{value:1.2,text:'1.2倍'}];return t=l.map(c,function(t){return n.createElement('li',{key:'sdll'+t.value,className:s===t.value?"select-item selected":"select-item",onClick:e.handleItemClick(t)},t.text)}),n.createElement('div',{className:'mod-sdll mod-select',onMouseEnter:this.toggleDropdown(!0),onMouseLeave:this.toggleDropdown(!1)},n.createElement('div',{className:'select-input',onClick:this.handleClick},n.createElement('span',{className:'select-value'},n.createElement('span',null,this.state.showPercent,' %')),n.createElement('i',{className:'iconfont if-triangle-down'})),a.error?n.createElement('div',{className:'input-error'},n.createElement('i',{className:'iconfont if-alert'}),' ',this.state.error):'',n.createElement('div',{className:'select-dropdown',style:this.state.showDropdown?{display:'block'}:{display:'none'}},n.createElement('div',{ref:'selectPrice',className:'select-percent'},n.createElement('label',{className:'percent-input-wrap'},n.createElement('input',{className:'percent-input',ref:'percentBtn',type:'text',maxLength:5,value:a.percent,onChange:this.handlePercentChange,onBlur:this.handlePercentBlur,onFocus:this.handlePercentFocus}),' %'),this.state.showPercentBtn?n.createElement('span',{className:'percent-btn',onClick:this.handlePercentClick},'确定'):''),n.createElement('ul',{className:'select-items'},t)))}});t["default"]=o,e.exports=t['default']}).call(t,a(11),a(227),a(163),a(1))},696:230,698:230});